{"ast":null,"code":"import React,{useState}from\"react\";import Axios from\"axios\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=_ref=>{let{login}=_ref;const[isLoggedIn,setIsLoggedIn]=useState(false);const[usernameReg,setUernameReg]=useState(\"\");const[passwordReg,setPasswordReg]=useState(\"\");const[username,setUername]=useState(\"\");const[password,setPassword]=useState(\"\");const[loginStatus,setLoginStatus]=useState(\"\");const register=()=>{Axios.post(\"http://localhost:3001/register\",{username:usernameReg,password:passwordReg}).then(response=>{console.log(response);});};const onLogin=()=>{login(username);Axios.post(\"http://localhost:3001/login\",{username:username,password:password}).then(response=>{if(!response.data.message){setLoginStatus(\"logged in\");setIsLoggedIn(true);}else{setLoginStatus(response.data.message);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"registration-and-login\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"registration\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Registration\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setUernameReg(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setPasswordReg(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:register,children:\" Register\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\\u2026\",onChange:e=>{setUername(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\\u2026\",onChange:e=>{setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",loginStatus]})]})]});};const mapDispatchToProps=dispatch=>({login:username=>dispatch({type:\"LOGIN\",payload:username})});export default connect(null,mapDispatchToProps)(LoginPage);","map":{"version":3,"names":["React","useState","Axios","connect","jsx","_jsx","jsxs","_jsxs","LoginPage","_ref","login","isLoggedIn","setIsLoggedIn","usernameReg","setUernameReg","passwordReg","setPasswordReg","username","setUername","password","setPassword","loginStatus","setLoginStatus","register","post","then","response","console","log","onLogin","data","message","className","children","type","onChange","e","target","value","onClick","placeholder","mapDispatchToProps","dispatch","payload"],"sources":["/Users/nicolecheung/Documents/my-recipes/client/src/pages/login/loginPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Axios from \"axios\";\nimport { connect } from \"react-redux\";\n\n\n  \n\nconst LoginPage = ({login}) => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [usernameReg, setUernameReg] = useState(\"\");\n    const [passwordReg, setPasswordReg] = useState (\"\");\n    const [username, setUername] = useState(\"\");\n    const [password, setPassword] = useState (\"\");\n    const [loginStatus, setLoginStatus] = useState(\"\");\n    \n    const register = () => {\n        Axios.post(\"http://localhost:3001/register\", {\n        username: usernameReg,\n        password: passwordReg,\n        }).then((response) => {\n            console.log(response);\n        });\n    };\n\n    const onLogin = () => {\n        login(username);\n        Axios.post(\"http://localhost:3001/login\", {\n            username: username,\n            password: password,\n        }).then((response) => {\n            if (!response.data.message) {\n                setLoginStatus(\"logged in\");\n                setIsLoggedIn(true);\n            } else {\n                setLoginStatus (response.data.message);\n            }\n        });\n    };\n\n\n\n  return (\n    \n    <div className=\"registration-and-login\">\n        <div className=\"registration\">\n            <h1>Registration</h1>\n            <label>Username</label>\n            <input \n                type=\"text\"            \n                onChange={(e) => {\n                setUernameReg(e.target.value);\n                }}/>\n            <br/>\n            <label>password</label>\n            <input \n                type=\"text\" \n                onChange={(e) =>{\n                    setPasswordReg(e.target.value);\n                }}\n            /> \n            <br />\n            <button onClick={register}> Register</button>\n        </div>\n        <div className=\"login\">\n            <h1>Login</h1>\n            <input \n                type=\"text\" \n                placeholder=\"Username…\" \n                onChange = { (e) => {\n                setUername (e.target.value);\n                }}\n            /> \n            <br/>\n            <input \n                type=\"password\" \n                placeholder=\"Password…\" \n                onChange = { (e) => {\n                setPassword (e.target.value);\n                }}\n            />\n            <button onClick={onLogin}>Login</button>\n            <h1> {loginStatus}</h1>\n        </div>\n    </div>\n\n  );\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n    login: username => \n  (dispatch({ type: \"LOGIN\", payload: username }))\n  })\n\nexport default connect(null, mapDispatchToProps)(LoginPage);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}